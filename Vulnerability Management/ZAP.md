# ZAP

![Pasted image 20240424161116](https://github.com/lm3nitro/Projects/assets/55665256/b7946686-0ee5-4730-b63a-dfcab2af58e3)

ZAP (Zed Attack Proxy) is what is known as a “man-in-the-middle proxy”. It stands between the tester's browser and the web application so that it can intercept and inspect messages sent between the browser and the web application, modify the contents if needed, and then forward those packets onto the destination. By intercepting and modifying the traffic between your browser and the web application, ZAP helps you understand how the application behaves under different scenarios and conditions.

![Pasted image 20240424161332](https://github.com/lm3nitro/Projects/assets/55665256/491fb004-c9f1-4ef8-b5c5-d37c1cf9ce5c)

### Scope:
I will be intalling ZAP

### Tools:
Linux OS, ZAP, Apache, and Wireshark

## Downloading ZAP:

To begin, we will need to download ZAP. I downloaded it via the following URL: https://www.zaproxy.org/download/

![Pasted image 20240424161457](https://github.com/lm3nitro/Projects/assets/55665256/0ed8a041-911a-48e8-8a8f-dfec01e18103)

Once you choose the OS that you will be using, they provide the commands needed to get it installed:

![Pasted image 20240424161623](https://github.com/lm3nitro/Projects/assets/55665256/a957740d-aa71-44a3-a29f-0ac412d94cf9)

As part of the installation, we will be using Curl, so we need to get that installed first before proceeding:
```
sudo apt install curl
```
![Pasted image 20240424161805](https://github.com/lm3nitro/Projects/assets/55665256/c6f78d5b-7d67-49e6-8c64-7564ae1b853f)

Now we can add the repo:

![Pasted image 20240424161827](https://github.com/lm3nitro/Projects/assets/55665256/80cb840b-a942-4602-80e8-8c9e3369aa96)

We can also add the key:

![Pasted image 20240424161915](https://github.com/lm3nitro/Projects/assets/55665256/5d75ab7e-bbd4-48da-8bf8-c718bfad17b2)

Next, let's update the packages and install ZAP:

![Pasted image 20240424162018](https://github.com/lm3nitro/Projects/assets/55665256/1370b8f3-4aeb-4375-bd20-7f83e911c97e)

During the isntallation, I noticed that the current host where I am installing ZAP has an older version of Java. Zap won't work with old version.

![Pasted image 20240424162454](https://github.com/lm3nitro/Projects/assets/55665256/8d2e8ab3-13af-4ea7-8ff9-9fadbe47a9e8)

>#### Installing the Default JRE/JDK : One option for installing Java is to use the version packaged with Ubuntu. By default, Ubuntu 22.04 includes Open JDK 11, which is an open-source variant of the JRE and JDK.

```
sudo apt install default-jre
```
![Pasted image 20240424162524](https://github.com/lm3nitro/Projects/assets/55665256/83bc0f1f-2c67-46b9-ba3d-086f3ccd3b5e)

Verify Java:
```
java -version
```
![Pasted image 20240424162639](https://github.com/lm3nitro/Projects/assets/55665256/c1eda971-a207-43bd-ae1a-76716087181f)

# Running ZAP:

![Pasted image 20240424162819](https://github.com/lm3nitro/Projects/assets/55665256/4335aa25-3afc-4b40-9a63-9f822338751f)


![Pasted image 20240424162852](https://github.com/lm3nitro/Projects/assets/55665256/e4c3b1eb-a59e-4785-8066-42c2f734f635)

![Pasted image 20240424162934](https://github.com/lm3nitro/Projects/assets/55665256/03cca604-3de9-4d92-8325-78bf723b6aba)




![Pasted image 20240424163640](https://github.com/lm3nitro/Projects/assets/55665256/ef5e0084-ff93-48df-996f-655d784e8cc0)


![Pasted image 20240424163754](https://github.com/lm3nitro/Projects/assets/55665256/2f46534b-4833-4a80-9b03-a00c9b67143f)

![Pasted image 20240424164232](https://github.com/lm3nitro/Projects/assets/55665256/2f7e80bd-d654-4c7a-a5f3-a2f04fd09bf8)



From the victim perspective:

![Pasted image 20240424181748](https://github.com/lm3nitro/Projects/assets/55665256/35ba6941-4847-4baa-8534-0c832a432827)


![Pasted image 20240424182353](https://github.com/lm3nitro/Projects/assets/55665256/20dd739f-b7f0-4bd2-b66c-157a06b42238)


The victim analysing the logs to find out and understand the tool that has been used for this scan since there is a lot of directory traversing 

Apache2 error.log:



![Pasted image 20240424165406](https://github.com/lm3nitro/Projects/assets/55665256/94ec6205-151d-4fd3-bc82-a0b7a496a328)


Apache2 access.log :


![Pasted image 20240424165527](https://github.com/lm3nitro/Projects/assets/55665256/ce5abbc3-fc2f-4b43-b967-ab040dd9951d)



User agent analysis:
This is a strange User agent because it is not recognized as any OS/platform. 



![Pasted image 20240424170823](https://github.com/lm3nitro/Projects/assets/55665256/a6816fc2-e022-47ac-ae7e-467c7fbec39d)

Going back to the ZAP dashboard. It looks like zap has detected some web vulnerabilities.

![zap1](https://github.com/lm3nitro/Projects/assets/55665256/e26173c4-590c-4d7f-b63e-58b7aa791958)
![zap2](https://github.com/lm3nitro/Projects/assets/55665256/23cf1390-2def-4949-9381-b86cc2a2323f)
![zap3](https://github.com/lm3nitro/Projects/assets/55665256/015482ae-0bf4-4076-a416-70e601999bf9)

