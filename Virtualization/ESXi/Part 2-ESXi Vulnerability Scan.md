# ESXi Vulnerability Scan

### Scope:
This is part 2 of setting up my virtualization environment. In part 1, I covered the installation and configuration on VMWare ESXi on my server. Here I will be running a vulnerability scan on my newly installed VMWare ESXi server and will be using Tenable to perform the scan. At the time of the ESXi install, the version that was installed was version 7 update 2.

### Tools and Technology:
VMWare ESXi, Tenable, and Wireshark

## Running the scan

I first logged into Tenable and created a new scan. My ESXi server in using the 10.10.100.40 IP, here I entered the details of the host for the scan:

![Pasted image 20240422132916](https://github.com/lm3nitro/Projects/assets/55665256/b523fc14-3e12-4390-8b54-c79d495a6984)

I started the scan:

![Pasted image 20240422133341](https://github.com/lm3nitro/Projects/assets/55665256/897551fe-125e-4206-a8bf-082498ce6cbc)

## Wireshark

While the scan was running, I also had Wireshark running at the same time capturing the traffic. Here I was able to see reference to the CVE within the traffic:

![Pasted image 20240422140944](https://github.com/lm3nitro/Projects/assets/55665256/8957f0c1-9f36-424c-8356-63f28e2925ef)

## Vulnerability Detection Overview

Scan completed. This is an overview of what it was able to find:

![Pasted image 20240422135211](https://github.com/lm3nitro/Projects/assets/55665256/37a27903-db10-4770-ab9f-89d8b3792ba6)

I expand the results to take a closer look into what it was able to find on my server. According to the scan, I have a Critical vulnerability, 2 High, and 6 Medium:

![Pasted image 20240422135426](https://github.com/lm3nitro/Projects/assets/55665256/2d11730a-9271-408f-882a-5acfd126291a)

Let's take a closer look at the Critical vulnerability since that is obviously the most concerning. I can see that it provides us with information on how to remediate the vulnerability. In this case, this CVE has several remediation options, one of which is installing the patch update 3p for version 7:

![Pasted image 20240422135542](https://github.com/lm3nitro/Projects/assets/55665256/30bc8836-2665-42c3-aef7-fc931b8610b9)

I also went to the NVD page to locate the CVE and get more information. I can see that this CVE was recently published earlier this year:

![Pasted image 20240422140023](https://github.com/lm3nitro/Projects/assets/55665256/0acf5876-9a20-49dc-a37e-0e0edebbfe29)

![Pasted image 20240422140133](https://github.com/lm3nitro/Projects/assets/55665256/dc2b2f35-83dc-4aea-82f8-58af93d57815)

I also did the same for both High CVEs that were found:

![Pasted image 20240422135724](https://github.com/lm3nitro/Projects/assets/55665256/16587bc1-931d-41c9-acf6-a4f7af3d7a57)

![Pasted image 20240422135840](https://github.com/lm3nitro/Projects/assets/55665256/ca5e712d-3751-483e-895e-1462e7b44695)

### Summary

Performing vulnerability scans is crucial in any infrastructure. Since I will be using this server to host all my VMs, I wanted to identify what vulnerabilities if any it has to ensure the overall security of my environment. Vulnerabilities in the host can be exploited and can potentially compromise all my virtual machines and environment. Scanning helps to reduce the attack surface by helping to identify any weaknesses. Scanning can also reveal misconfigurations or outdated software. As seen above, the vulnerability it remediated in a newer update that has not yet been applied to the server. 

Due to the severity of the vulnerabilities discovered, it was imperative to remediate the ESXi server promptly. The complete patching and remediation procedures are detailed separately in Part 3-Patching ESXi. 


